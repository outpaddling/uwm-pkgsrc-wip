# $NetBSD$
#
###########################################################
#                  Generated by fbsd2pkg                  #
#              Sat Sep 17 10:19:48 CDT 2016               #
###########################################################

###########################################################
# Unconverted and partially converted FreeBSD port syntax:

## Created by: Jason Bacon <bacon4000@gmail.com>
## $FreeBSD$
#LICENSE_FILE=	${WRKSRC}/LICENSE.txt
## Add when tests are enabled	libgtest.so:devel/googletest
## FIXME: Guessing at actual boost lib needed
# LIB_DEPENDS=	libhts.so:biology/htslib \
#		libboost_regex.so:devel/boost-libs
# Note: cmake:outsource
## FIXME: Disable tests for now.  Bound to bundled googletest.
#do-install:
#	${INSTALL_PROGRAM} ${WRKSRC}/bin/* ${DESTDIR}${PREFIX}/bin
#	${INSTALL_DATA} ${WRKSRC}/lib/* ${DESTDIR}${PREFIX}/lib
#	cd ${WRKSRC}/include && pax -rw . ${DESTDIR}${PREFIX}/include
#.include <bsd.port.mk>

DISTNAME=	pbbam-${PORTVERSION}
CATEGORIES=	biology
MASTER_SITES=	${MASTER_SITE_GITHUB:=PacificBiosciences/}
GITHUB_PROJECT=	pbbam
GITHUB_TAG=	e46654e0e0b816230c16f4a6132c1feff633a62a

MAINTAINER=	bacon4000@gmail.com
HOMEPAGE=	https://github.com/PacificBiosciences/pbbam
COMMENT=	PacBio BAM C++ library, with SWIG bindings
# Check this
LICENSE=	modified-bsd

# Test and change if necessary.
# MAKE_JOBS_SAFE=	no

# Just assuming C and C++: Adjust this!
USE_LANGUAGES=	c c++
USE_TOOLS+=	pax
USE_CMAKE=	yes
# Check this
CMAKE_ARGS+=	-DHTSLIB_INCLUDE_DIRS:STRING=${PREFIX}/include/htslib \
		-DHTSLIB_LIBRARIES:STRING="-L${PREFIX}/lib \
		-DPacBioBAM_build_tests:BOOL=OFF \
		-DPacBioBAM_build_docs:BOOL=OFF

WRKSRC=		${WRKDIR}/pbbam-${GITHUB_TAG}
# Check this
MAKE_FLAGS+=	VERBOSE=1

PORTVERSION=	2016.09.13
DATADIR=	${PREFIX}/share/pbbam
DOCSDIR=	${PREFIX}/share/doc/pbbam
EXAMPLESDIR=	${PREFIX}/share/examples/pbbam

# Sets OPSYS, OS_VERSION, MACHINE_ARCH, etc..
# .include "../../mk/bsd.prefs.mk"

# Keep this if there are user-selectable options.
# .include "options.mk"

# Specify which directories to create before install.
# You should only need this if using your own install target.
INSTALLATION_DIRS=	bin include lib ${PKGMANDIR}/man1 share/doc share/examples

# Convert any _DEPENDS above that have a buildlink3.mk
# .include "../..///buildlink3.mk"
.include "../../security/openssl/buildlink3.mk"
# Linux doesn't have zlib in the base, so just in case...
# .include "../../devel/zlib/buildlink3.mk"
.include "../../mk/bsd.pkg.mk"
