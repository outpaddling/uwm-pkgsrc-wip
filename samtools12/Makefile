# $NetBSD$
#
###########################################################
#               Generated by fbsd2pkg                     #
###########################################################

DISTNAME=	samtools-${PORTVERSION}
CATEGORIES=	biology
MASTER_SITES=	${MASTER_SITE_GITHUB:=samtools/}

MAINTAINER=	bacon4000@gmail.com
HOMEPAGE=	http://www.htslib.org/
COMMENT=	Tools for manipulating next-generation sequencing data

LICENSE=	mit

USE_LANGUAGES=	c c++
USE_TOOLS+=	gmake perl
USE_NCURSES=	yes
REPLACE_PERL=	misc/*.pl misc/plot-bamstats test/*.pl
REPLACE_PYTHON=	misc/*.py

EVAL_PREFIX=    HTSLIB_PREFIX=htslib
CPPFLAGS+=	-I${HTSLIB_PREFIX}/include
# FIXME: Why is this necessary for ncurses?  I think pkgsrc should handle
# this automatically via bl3.
LDFLAGS+=	${COMPILER_RPATH_FLAG}${PREFIX}/lib

MAKE_ENV=	INSTALL_LIB="${INSTALL_LIB}" \
 		INSTALL_DATA="${INSTALL_DATA}" \
 		INSTALL_PROGRAM="${INSTALL_PROGRAM}" \
 		INSTALL_SCRIPT="${INSTALL_SCRIPT}" \
 		INSTALL_DIR="${MKDIR}"

PORTVERSION=	1.2

.include "../../lang/python/application.mk"
.include "../../wip/htslib/buildlink3.mk"
.include "../../mk/curses.buildlink3.mk"
.include "../../devel/zlib/buildlink3.mk"
.include "../../mk/bsd.pkg.mk"
