# $NetBSD$
#
###########################################################
#                  Generated by fbsd2pkg                  #
#              Thu Nov  3 08:21:44 CDT 2016               #
###########################################################

###########################################################
# Unconverted and partially converted FreeBSD port syntax:

## Created by: Jason Bacon <bacon@NetBSD.org>
## $FreeBSD$
#LICENSE_FILE=	${WRKSRC}/COPYING
# LIB_DEPENDS+=	libhdf5.so:science/hdf5
# LIB_DEPENDS+=	libsz.so:science/szip
# LIB_DEPENDS+=	libgtest.so:devel/googletest
## FIXME: Should not be needed and isn't on outpaddling.cs
# Note: cmake:outsource
## FIXME: Matlab bindings can be on as an option with Octave as a dep
## FIXME: Python installs files outside stagedir
## post-install:
## 	${STRIP_CMD} ${DESTDIR}${DATADIR}/octave/nearest_neighbors.mex
#.include <bsd.port.mk>

DISTNAME=	flann-${PORTVERSION}-src
PKGNAME=	flann-${PORTVERSION}
CATEGORIES=	science
MASTER_SITES=	http://www.cs.ubc.ca/research/flann/uploads/FLANN/
EXTRACT_SUFX=	.zip

MAINTAINER=	dsiercks@uwm.edu
HOMEPAGE=	http://www.cs.ubc.ca/research/flann/
COMMENT=	Fast approximate nearest neighbor searches in high dimensional spaces
# Check this
LICENSE=	2-clause-bsd

# Test and change if necessary.
# MAKE_JOBS_SAFE=	no

# Just assuming C and C++: Adjust this!
USE_LANGUAGES=	c c++
USE_CMAKE=	yes
# Check this
CMAKE_ARGS+=	-DBUILD_MATLAB_BINDINGS:BOOL=off \
		-DBUILD_PYTHON_BINDINGS:BOOL=off

CXXFLAGS+=	-I${PREFIX}/include
# Check this
MAKE_FLAGS+=	VERBOSE=1

PORTVERSION=	1.8.4
DATADIR=	${PREFIX}/share/flann
DOCSDIR=	${PREFIX}/share/doc/flann
EXAMPLESDIR=	${PREFIX}/share/examples/flann

# Sets OPSYS, OS_VERSION, MACHINE_ARCH, etc..
# .include "../../mk/bsd.prefs.mk"

# Keep this if there are user-selectable options.
# .include "options.mk"

# Specify which directories to create before install.
# You should only need this if using your own install target.
INSTALLATION_DIRS=	bin include lib ${PKGMANDIR}/man1 share/doc share/examples

# Convert any _DEPENDS above that have a buildlink3.mk
# .include "../..///buildlink3.mk"
# Based on USES=python.  Check this.
.include "../../lang/python/application.mk"
# Linux doesn't have zlib in the base, so just in case...
# .include "../../devel/zlib/buildlink3.mk"
.include "../../devel/hdf5/buildlink3.mk"
.include "../../archivers/szip/buildlink3.mk"
.include "../../devel/googletest/buildlink3.mk"
.include "../../mk/bsd.pkg.mk"
