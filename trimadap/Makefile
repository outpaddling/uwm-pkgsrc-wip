# $NetBSD$
#
###########################################################
#                  Generated by fbsd2pkg                  #
#              Tue Mar  6 13:47:17 CST 2018               #
###########################################################

###########################################################
# Unconverted and partially converted FreeBSD port syntax:

## $FreeBSD$
#PLIST_FILES=	bin/trimadap-mt
#do-install:
#	${INSTALL_PROGRAM} ${WRKSRC}/trimadap-mt \
#		${DESTDIR}${PREFIX}/bin
#.include <bsd.port.mk>

DISTNAME=	trimadap-${PORTVERSION}
CATEGORIES=	biology
MASTER_SITES=	${MASTER_SITE_GITHUB:=lh3/}
GITHUB_PROJECT=	trimadap
GITHUB_TAG=	ddfef210563830d9193b40949da3523b6fb93003

MAINTAINER=	dsiercks@uwm.edu
HOMEPAGE=	https://github.com/lh3/seqtk
COMMENT=	Tool for processing sequences in FASTA/FASTQ format
# Check this
LICENSE=	gnu-gpl-v2

# Test and change if necessary.
# MAKE_JOBS_SAFE=	no

# Just assuming C and C++: Adjust this!
USE_LANGUAGES=	c c++
USE_TOOLS+=	gmake

WRKSRC=		${WRKDIR}/trimadap-${GITHUB_TAG}

PORTVERSION=	2017.02.11

# FIXME: Come up with a better patch that can be sent upstream
SUBST_CLASSES+=		libz
SUBST_STAGE.libz=	post-patch
SUBST_SED.libz+=	-e "s|-lz|-L${PREFIX}/lib -lz|g"
SUBST_FILES.libz+=	${WRKSRC}/Makefile


# Sets OPSYS, OS_VERSION, MACHINE_ARCH, etc..
# .include "../../mk/bsd.prefs.mk"

# Keep this if there are user-selectable options.
# .include "options.mk"

# Specify which directories to create before install.
# You should only need this if using your own install target.
INSTALLATION_DIRS=	bin

do-install:
	${INSTALL_PROGRAM} ${WRKSRC}/trimadap-mt \
		${DESTDIR}${PREFIX}/bin

# Linux doesn't have zlib in the base, so just in case...
.include "../../devel/zlib/buildlink3.mk"
.include "../../mk/bsd.pkg.mk"
