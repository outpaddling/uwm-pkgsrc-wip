# $NetBSD$
#
###########################################################
#               Generated by fbsd2pkg                     #
###########################################################

DISTNAME=	htslib-${PORTVERSION}
CATEGORIES=	biology
MASTER_SITES=	${MASTER_SITE_GITHUB:=samtools/}

MAINTAINER=	bacon@NetBSD.org
HOMEPAGE=	http://www.htslib.org/
COMMENT=	C library for high-throughput sequencing data formats
# LICENSE=	${WRKSRC}/LICENSE

# Pessimistic assumption.  Test and change if possible.
MAKE_JOBS_SAFE=	no

# Just assuming C and C++: Adjust this!
USE_LANGUAGES=	c c++
USE_TOOLS+=	gmake autoconf
GNU_CONFIGURE=	yes

# Adapt REINPLACE commands to SUBST:
SUBST_CLASSES+=		version
SUBST_STAGE.version=	post-patch
SUBST_FILES.version=	${WRKSRC}/configure.ac
SUBST_SED.version=	-e 's|@PORTVERSION@|${PORTVERSION}|g'

MAKE_ENV=	INSTALL_LIB="${INSTALL_LIB}" \
 		INSTALL_DATA="${INSTALL_DATA}" \
 		INSTALL_PROGRAM="${INSTALL_PROGRAM}" \
 		INSTALL_DIR="${MKDIR}"

PORTVERSION=	1.2.1
DATADIR=	${PREFIX}/share/htslib
DOCSDIR=	${PREFIX}/share/doc/htslib

pre-configure:
	cd ${WRKSRC} && autoconf

.include "../../devel/zlib/buildlink3.mk"
.include "../../mk/bsd.pkg.mk"
