# $NetBSD$

###########################################################
#               Generated by fbsd2pkg                     #
###########################################################

# Must use the same version of dazz_db, daligner, pypeflow, and falcon!

DISTNAME=	dazz_db-${PORTVERSION}
CATEGORIES=	biology
MASTER_SITES=	http://acadix.biz/Ports/distfiles/
EXTRACT_SUFX=	.tar.xz

MAINTAINER=	bacon4000@gmail.com

COMMENT=	Dresden assembler for long read DNA projects
# Double-check this
LICENSE=	modified-bsd

# Pessimistic assumption.  Test and change if possible.
# MAKE_JOBS_SAFE=	no

USE_LANGUAGES=	c
USE_TOOLS+=	gmake
MAKE_FILE=	GNUmakefile

# OS X Snow Leopard doesn't suppot no-unused-result and dies of an
# internal compiler error if we use -O2 or higher
SUBST_CLASSES+=		makefile
SUBST_STAGE.makefile=	post-patch
SUBST_FILES.makefile=	${WRKSRC}/GNUmakefile
SUBST_SED.makefile=	-e 's|-Wno-unused-result||g' \
			-e 's|-O3|-O|g'

PORTVERSION=	2015.10.28

AUTO_MKDIRS=	yes

do-install:
	${INSTALL_PROGRAM} \
		${WRKSRC}/Catrack \
		${WRKSRC}/DAM2fasta \
		${WRKSRC}/DB2fasta \
		${WRKSRC}/DB2quiva \
		${WRKSRC}/DBdust \
		${WRKSRC}/DBrm \
		${WRKSRC}/DBshow \
		${WRKSRC}/DBsplit \
		${WRKSRC}/DBstats \
		${WRKSRC}/fasta2DAM \
		${WRKSRC}/fasta2DB \
		${WRKSRC}/quiva2DB \
		${WRKSRC}/simulator \
		${DESTDIR}${PREFIX}/bin
	${INSTALL_DATA} \
		${WRKSRC}/*.h ${DESTDIR}${PREFIX}/include
	${INSTALL_DATA} \
		${WRKSRC}/libdazzdb.a ${DESTDIR}${PREFIX}/lib

.include "../../mk/bsd.pkg.mk"
